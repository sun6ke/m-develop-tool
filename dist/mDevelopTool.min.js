(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("mDevelopTool", [], factory);
	else if(typeof exports === 'object')
		exports["mDevelopTool"] = factory();
	else
		root["mDevelopTool"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/mDevelopTool.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../../node-v8.9.1-linux-x64/lib/node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g; // This works in non-strict mode

g = function () {
  return this;
}();

try {
  // This works if eval is allowed (see CSP)
  g = g || new Function("return this")();
} catch (e) {
  // This works if the window reference is available
  if (typeof window === "object") g = window;
} // g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}


module.exports = g;

/***/ }),

/***/ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/core/core.less":
/*!**********************************************************************************************!*\
  !*** ../node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./src/core/core.less ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")();
// imports


// module
exports.push([module.i, "html {\n  font-family: -apple-system, Microsoft Yahei, Arial, SF UI Text, Helvetica Neue, Helvetica, sans-serif;\n  font-size: 15px;\n}\n.clear {\n  transform: rotate(45deg);\n  font-size: 1.5rem;\n}\n.mt-toggle .mt-overlay {\n  background: rgba(0, 0, 0, 0.6);\n}\n.mt-toggle .mt-panel {\n  -webkit-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.mt-overlay {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background: rgba(0, 0, 0, 0);\n  z-index: 100000;\n  transition: background 0.3s;\n}\n.mt-panel {\n  display: none;\n  height: 84%;\n  position: absolute;\n  z-index: 100004;\n  bottom: 0;\n  width: 100%;\n  background: #fff;\n  overflow: auto;\n  transition: transform 0.3s, -webkit-transform 0.3s;\n  -webkit-transform: translate(0, 100%);\n  transform: translate(0, 100%);\n}\n.mt-navbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 15px;\n  background-color: #f0eff0;\n  border-bottom: 1px solid #cbcbcb;\n}\n.mt-navbar .mt-tabs {\n  display: flex;\n  height: 2.5rem;\n  line-height: 2.5rem;\n}\n.mt-navbar .mt-tabs .mt-tab {\n  padding: 0 1rem;\n  text-align: center;\n}\n.mt-navbar .mt-tabs .mt-tab.active {\n  border-bottom: 2px solid #00a8f0;\n}\n.mt-content {\n  width: 100%;\n  height: calc(100% - 2.6rem);\n  overflow-y: auto;\n}\n.mt-content .inner-content {\n  display: none;\n}\n.mt-content .inner-content.active {\n  display: block;\n}\n.mt-table .mt-row {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  -webkit-box-direction: row;\n  -webkit-flex-wrap: wrap;\n  overflow: hidden;\n  border-bottom: 1px solid #EEE;\n}\n.mt-table .mt-col {\n  flex: 1;\n  -webkit-box-flex: 1;\n  border-left: 1px solid #EEE;\n  padding: 0.2rem;\n  overflow: auto;\n  white-space: pre-wrap;\n  word-break: break-word;\n  -webkit-overflow-scrolling: touch;\n}\n.mt-table .mt-col-2 {\n  flex: 2;\n  -webkit-box-flex: 2;\n}\n.mt-table .mt-row-title .mt-col {\n  background-color: #eee;\n}\n.mt-hide {\n  display: none;\n}\n.pre-wrap {\n  word-break: break-all;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/element/element.less":
/*!****************************************************************************************************!*\
  !*** ../node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./src/element/element.less ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")();
// imports


// module
exports.push([module.i, ".mt-element .mt-el-parent {\n  position: relative;\n  padding-left: 11px;\n}\n.mt-element .mt-el-parent:before {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: 4px;\n  left: 2px;\n  width: 0;\n  height: 0;\n  border: transparent solid 4px;\n  border-left-color: #000;\n  transition: transform 0.1s;\n}\n.mt-element .mt-el-parent.mt-toggle:before {\n  transform: rotate(90deg);\n  top: 5px;\n}\n.mt-element .mt-el-parent .is-leaf {\n  padding-left: 11px;\n}\n.mt-element .mt-el-parent .leaf-node {\n  padding-left: 11px;\n  white-space: pre-wrap;\n}\n.mt-element .mt-el-parent .mt-el-parent,\n.mt-element .mt-el-parent .leaf-node,\n.mt-element .mt-el-parent .is-leaf {\n  display: none;\n}\n.mt-element .mt-el-parent.mt-toggle > .mt-el-parent,\n.mt-element .mt-el-parent.mt-toggle > .leaf-node,\n.mt-element .mt-el-parent.mt-toggle > .is-leaf {\n  display: block;\n}\n.mt-element .mt-el-node {\n  color: #9142b4;\n}\n.mt-element .mt-el-node .node-attribute {\n  color: #a45635;\n}\n.mt-element .mt-el-node .node-attribute-val {\n  color: #3655c8;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/log/log.less":
/*!********************************************************************************************!*\
  !*** ../node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./src/log/log.less ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")();
// imports


// module
exports.push([module.i, ".log-content {\n  height: calc(100% - 2.4rem);\n  overflow: auto;\n}\n.log-cmd {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 2.4rem;\n}\n.log-cmd .cmd-input-wrap {\n  display: flex;\n}\n.log-cmd .cmd-input-wrap input {\n  width: 85%;\n  height: 2rem;\n}\n.log-cmd .cmd-input-wrap button {\n  width: 15%;\n  padding: 0;\n  background-color: #00a8f0;\n  border: 0;\n  color: #fff;\n}\n.mt-log .mt-log-item {\n  margin: 0;\n  padding: 0.46153846em 0.61538462em;\n  overflow: hidden;\n  line-height: 1.3;\n  border-bottom: 1px solid #EEE;\n  word-break: break-word;\n  font-size: 0.9rem;\n}\n.mt-log .mt-log-item.log-type-info {\n  color: #00a8f0;\n}\n.mt-log .mt-log-item.log-type-warn {\n  color: #ff9914;\n}\n.mt-log .mt-log-item.log-type-error {\n  color: red;\n}\n.mt-log .mt-log-item.log-type-input {\n  position: relative;\n  padding-left: 1rem;\n}\n.mt-log .mt-log-item.log-type-input:before {\n  content: \"\\203A\";\n  position: absolute;\n  top: 0.1rem;\n  left: 0.4rem;\n  color: #00a8f0;\n  font-size: 1.3rem;\n}\n.mt-log .mt-log-item.log-type-output {\n  position: relative;\n  padding-left: 1rem;\n}\n.mt-log .mt-log-item.log-type-output:before {\n  content: \"\\2039\";\n  position: absolute;\n  top: 0.1rem;\n  left: 0.4rem;\n  color: #00a8f0;\n  font-size: 1.3rem;\n}\n.mt-log .mt-log-item pre {\n  margin: 0;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/network/network.less":
/*!****************************************************************************************************!*\
  !*** ../node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./src/network/network.less ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")();
// imports


// module
exports.push([module.i, ".mt-network-content {\n  font-size: 0.9rem;\n}\n.mt-network-detail {\n  background-color: #e8f7ff;\n  font-size: 0.85rem;\n}\n.mt-network-detail .detail-block {\n  border-bottom: 1px solid #dcdc;\n  padding: 0.2rem 0.5rem;\n  margin-bottom: 0.3rem;\n}\n.mt-network-detail .detail-block .detail-header {\n  font-size: 1rem;\n  font-weight: 600;\n}\n.mt-network-info.error {\n  color: red;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/storage/storage.less":
/*!****************************************************************************************************!*\
  !*** ../node_modules/css-loader!./node_modules/less-loader/dist/cjs.js!./src/storage/storage.less ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")();
// imports


// module
exports.push([module.i, ".sub-tabs {\n  display: flex;\n  align-items: center;\n  background-color: #FBF9FE;\n  border-bottom: 1px solid #D9D9D9;\n}\n.sub-tabs .sub-tab {\n  flex: 1;\n  text-align: center;\n  height: 2rem;\n  line-height: 2rem;\n  margin: 0 1rem;\n}\n.sub-tabs .sub-tab.active {\n  border-bottom: 2px solid #00a8f0;\n}\ntable.mt-all-storages {\n  font-size: 0.9rem;\n}\ntable.mt-all-storages tr td {\n  border-right: 1px solid #cbcbcb;\n  border-bottom: 1px solid #cbcbcb;\n  padding: 0 0.3rem;\n  height: 1.7rem;\n}\ntable.mt-all-storages tr td:last-child {\n  border-right: none;\n  text-align: center;\n}\ntable.mt-all-storages tr td input {\n  width: 96%;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/css-loader/lib/css-base.js":
/*!**************************************************!*\
  !*** ../node_modules/css-loader/lib/css-base.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function () {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    var result = [];

    for (var i = 0; i < this.length; i++) {
      var item = this[i];

      if (item[2]) {
        result.push("@media " + item[2] + "{" + item[1] + "}");
      } else {
        result.push(item[1]);
      }
    }

    return result.join("");
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === "string") modules = [[null, modules, ""]];
    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];
      if (typeof id === "number") alreadyImportedModules[id] = true;
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      //  when a module is imported multiple times with different media queries.
      //  I hope this will never occur (Hey this way we have smaller bundles)

      if (typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
        }

        list.push(item);
      }
    }
  };

  return list;
};

/***/ }),

/***/ "../node_modules/style-loader/lib/addStyles.js":
/*!*****************************************************!*\
  !*** ../node_modules/style-loader/lib/addStyles.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getElement = (function (fn) {
	var memo = {};

	return function(selector) {
		if (typeof memo[selector] === "undefined") {
			memo[selector] = fn.call(this, selector);
		}

		return memo[selector]
	};
})(function (target) {
	return document.querySelector(target)
});

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "../node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton) options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
	if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else {
		throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	options.attrs.type = "text/css";

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	options.attrs.type = "text/css";
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = options.transform(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "../node_modules/style-loader/lib/urls.js":
/*!************************************************!*\
  !*** ../node_modules/style-loader/lib/urls.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */
module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  } // blank or null?


  if (!css || typeof css !== "string") {
    return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/"); // convert each url(...)

  /*
  This regular expression is just a way to recursively match brackets within
  a string.
  	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
     (  = Start a capturing group
       (?:  = Start a non-capturing group
           [^)(]  = Match anything that isn't a parentheses
           |  = OR
           \(  = Match a start parentheses
               (?:  = Start another non-capturing groups
                   [^)(]+  = Match anything that isn't a parentheses
                   |  = OR
                   \(  = Match a start parentheses
                       [^)(]*  = Match anything that isn't a parentheses
                   \)  = Match a end parentheses
               )  = End Group
               *\) = Match anything and then a close parens
           )  = Close non-capturing group
           *  = Match anything
        )  = Close capturing group
   \)  = Match a close parens
  	 /gi  = Get all matches, not the first.  Be case insensitive.
   */

  var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function (fullMatch, origUrl) {
    // strip quotes (if they exist)
    var unquotedOrigUrl = origUrl.trim().replace(/^"(.*)"$/, function (o, $1) {
      return $1;
    }).replace(/^'(.*)'$/, function (o, $1) {
      return $1;
    }); // already a full url? no change

    if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(unquotedOrigUrl)) {
      return fullMatch;
    } // convert the url to a full url


    var newUrl;

    if (unquotedOrigUrl.indexOf("//") === 0) {
      //TODO: should we add protocol?
      newUrl = unquotedOrigUrl;
    } else if (unquotedOrigUrl.indexOf("/") === 0) {
      // path should be relative to the base url
      newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
    } else {
      // path should be relative to current directory
      newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
    } // send back the fixed url(...)


    return "url(" + JSON.stringify(newUrl) + ")";
  }); // send back the fixed css

  return fixedCss;
};

/***/ }),

/***/ "./node_modules/art-template/lib/compile/runtime.js":
/*!**********************************************************!*\
  !*** ./node_modules/art-template/lib/compile/runtime.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {
/*! art-template@runtime | https://github.com/aui/art-template */

var globalThis = typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {};
var runtime = Object.create(globalThis);
var ESCAPE_REG = /["&'<>]/;
/**
 * 编码模板输出的内容
 * @param  {any}        content
 * @return {string}
 */

runtime.$escape = function (content) {
  return xmlEscape(toString(content));
};
/**
 * 迭代器，支持数组与对象
 * @param {array|Object} data
 * @param {function}     callback
 */


runtime.$each = function (data, callback) {
  if (Array.isArray(data)) {
    for (var i = 0, len = data.length; i < len; i++) {
      callback(data[i], i);
    }
  } else {
    for (var _i in data) {
      callback(data[_i], _i);
    }
  }
}; // 将目标转成字符


function toString(value) {
  if (typeof value !== 'string') {
    if (value === undefined || value === null) {
      value = '';
    } else if (typeof value === 'function') {
      value = toString(value.call(value));
    } else {
      value = JSON.stringify(value);
    }
  }

  return value;
} // 编码 HTML 内容


function xmlEscape(content) {
  var html = '' + content;
  var regexResult = ESCAPE_REG.exec(html);

  if (!regexResult) {
    return content;
  }

  var result = '';
  var i = void 0,
      lastIndex = void 0,
      char = void 0;

  for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {
    switch (html.charCodeAt(i)) {
      case 34:
        char = '&#34;';
        break;

      case 38:
        char = '&#38;';
        break;

      case 39:
        char = '&#39;';
        break;

      case 60:
        char = '&#60;';
        break;

      case 62:
        char = '&#62;';
        break;

      default:
        continue;
    }

    if (lastIndex !== i) {
      result += html.substring(lastIndex, i);
    }

    lastIndex = i + 1;
    result += char;
  }

  if (lastIndex !== i) {
    return result + html.substring(lastIndex, i);
  } else {
    return result;
  }
}

module.exports = runtime;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../node-v8.9.1-linux-x64/lib/node_modules/webpack/buildin/global.js */ "../../node-v8.9.1-linux-x64/lib/node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/art-template/lib/runtime.js":
/*!**************************************************!*\
  !*** ./node_modules/art-template/lib/runtime.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(/*! ./compile/runtime */ "./node_modules/art-template/lib/compile/runtime.js");

/***/ }),

/***/ "./src/basePlugin.js":
/*!***************************!*\
  !*** ./src/basePlugin.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var basePlugin =
/*#__PURE__*/
function () {
  function basePlugin(id, name, active) {
    _classCallCheck(this, basePlugin);

    this.id = id;
    this.name = name;
    this.active = active; // complete load storage

    this._complete = false;
  }

  _createClass(basePlugin, [{
    key: "trigger",

    /**
     * trigger event
     * @param eventName
     * @param data
     */
    value: function trigger(eventName, data) {
      var method = eventName + 'Event';

      if (typeof this[method] == 'function') {
        var _this$method;

        (_this$method = this[method]).call.apply(_this$method, [this].concat(_toConsumableArray(data)));
      }
    }
    /**
     * change tabs
     * @param id
     * @param data
     * @returns {boolean}
     * @private
     */

  }, {
    key: "activeEvent",
    value: function activeEvent(id, data) {
      var domStr = '$' + id + '_content';

      if (typeof this[domStr] == 'undefined') {
        return false;
      }

      if (data) {
        this[domStr].classList.add('active');
      } else {
        this[domStr].classList.remove('active');
      }
    }
  }, {
    key: "id",
    get: function get() {
      return this._id;
    },
    set: function set(value) {
      if (!value) {
        throw 'id is empty';
      }

      this._id = value;
    }
  }, {
    key: "name",
    get: function get() {
      return this._name;
    },
    set: function set(value) {
      this._name = value;
    }
  }, {
    key: "active",
    get: function get() {
      return this._active;
    },
    set: function set(value) {
      this._active = value;
    }
  }, {
    key: "complete",
    get: function get() {
      return this._complete;
    },
    set: function set(value) {
      this._complete = value;
    }
  }]);

  return basePlugin;
}();

/* harmony default export */ __webpack_exports__["default"] = (basePlugin);

/***/ }),

/***/ "./src/core/core.art":
/*!***************************!*\
  !*** ./src/core/core.art ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $each = $imports.$each, pluginList = $data.pluginList, val = $data.val, key = $data.key, $escape = $imports.$escape;
    $$out += '<div id="mt-main" class="">\n    <div class="mt-overlay"></div>\n    <div class="mt-panel">\n        <div class="mt-navbar">\n            <div class="mt-tabs">\n\t\t        ';
    $each(pluginList, function (val, key) {
        $$out += '\n\t\t            <div class="mt-tab ';
        $$out += $escape(val.active ? 'active' : '');
        $$out += '" id="mt-tab-';
        $$out += $escape(val.name);
        $$out += '">';
        $$out += $escape(val.name);
        $$out += '</div>\n\t\t        ';
    });
    $$out += '\n            </div>\n            <i class="clear" id="clear">+</i>\n        </div>\n        <div class="mt-topbar">\n        </div>\n        <div class="mt-content">\n        </div>\n    </div>\n</div>';
    return $$out;
};

/***/ }),

/***/ "./src/core/core.js":
/*!**************************!*\
  !*** ./src/core/core.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return mDevelopTool; });
/* harmony import */ var _util_tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/tool */ "./src/util/tool.js");
/* harmony import */ var _util_query_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/query.js */ "./src/util/query.js");
/* harmony import */ var _core_art__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.art */ "./src/core/core.art");
/* harmony import */ var _core_art__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_core_art__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _log_log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../log/log */ "./src/log/log.js");
/* harmony import */ var _core_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core.less */ "./src/core/core.less");
/* harmony import */ var _core_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_core_less__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../storage/storage */ "./src/storage/storage.js");
/* harmony import */ var _element_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../element/element */ "./src/element/element.js");
/* harmony import */ var _network_network__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../network/network */ "./src/network/network.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * 主入口
 */









var mDevelopTool =
/*#__PURE__*/
function () {
  function mDevelopTool(opt) {
    var _this = this;

    _classCallCheck(this, mDevelopTool);

    //init params
    this.options = {
      plugins: ['log', 'network', 'element', 'storage']
    };
    this.options = Object(_util_tool__WEBPACK_IMPORTED_MODULE_0__["deepCopy"])(opt, this.options);
    this.pluginList = {};
    this.$main = null;
    this.currentTab = 'log'; //create plugins

    this._createPlugins();

    if (document !== undefined) {
      if (document.readyState == 'complete') {
        this._onLoad();
      } else {
        window.addEventListener('load', this._onLoad.bind(this));
      }
    } else {
      var timer;

      var later = function later() {
        if (document && document.readyState == 'complete') {
          clearTimeout(timer);

          _this._onLoad();
        } else {
          timer = setTimeout(later, 100);
        }
      };

      timer = setTimeout(later, 100);
    }
  }

  _createClass(mDevelopTool, [{
    key: "_initPlugins",
    value: function _initPlugins() {
      var _this2 = this;

      for (var id in this.pluginList) {
        this.pluginList[id].render(function ($dom) {
          _this2.$main.querySelector('.mt-content').appendChild($dom);
        });
      }
    }
  }, {
    key: "_onLoad",
    value: function _onLoad() {
      this.render();

      this._bindEvent();

      this._initPlugins();
    }
  }, {
    key: "_createPlugins",
    value: function _createPlugins() {
      var plugins = {
        log: {
          plugin: _log_log__WEBPACK_IMPORTED_MODULE_3__["default"],
          name: 'log',
          active: true
        },
        network: {
          plugin: _network_network__WEBPACK_IMPORTED_MODULE_7__["default"],
          name: 'network',
          active: false
        },
        element: {
          plugin: _element_element__WEBPACK_IMPORTED_MODULE_6__["default"],
          name: 'element',
          active: false
        },
        storage: {
          plugin: _storage_storage__WEBPACK_IMPORTED_MODULE_5__["default"],
          name: 'storage',
          active: false
        }
      };
      var list = this.options.plugins;

      for (var i = 0; i < list.length; i++) {
        var tab = plugins[list[i]];

        if (!tab) {
          continue;
        }

        this._addPlugin(new tab.plugin(list[i], tab.name, tab.active));
      }
    }
  }, {
    key: "_addPlugin",
    value: function _addPlugin(plugin) {
      //plugin已经存在
      if (this.pluginList[plugin.id]) {
        return false;
      }

      this.pluginList[plugin.id] = plugin;
    }
  }, {
    key: "_bindEvent",
    value: function _bindEvent() {
      var _this3 = this;

      var $tabs = _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].all('.mt-tab');
      _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].bind($tabs, 'click', function (event) {
        var id = event.target.id.replace('mt-tab-', '');

        if (_this3.currentTab == id) {
          return false;
        }

        _this3.pluginList[id].trigger('active', [id, true]);

        _this3.pluginList[_this3.currentTab].trigger('active', [_this3.currentTab, false]);

        _this3.currentTab = id;
        _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass($tabs, 'active');
        _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(event.target, 'active');
      }); //clear

      _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].bind(_util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('#clear'), 'click', function (event) {
        if (!_this3.pluginList[_this3.currentTab].clear) {
          return false;
        }

        _this3.pluginList[_this3.currentTab].clear.call(_this3.pluginList[_this3.currentTab]);
      });
      _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].bind(_util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('.mt-overlay', this.$main), 'click', function (e) {
        if (e.target != _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('.mt-overlay')) {
          return false;
        }

        _this3.hide();
      });
    }
  }, {
    key: "_removePlugin",
    value: function _removePlugin(pluginId) {
      if (this.pluginList[pluginId].remove) {
        this.pluginList[pluginId].remove();
      }

      delete this.pluginList[pluginId];
    }
  }, {
    key: "render",
    value: function render() {
      this.$main = document.createElement("div");
      this.$main.innerHTML = _core_art__WEBPACK_IMPORTED_MODULE_2___default()({
        pluginList: this.pluginList
      });
      document.body.after(this.$main);
    }
  }, {
    key: "destroy",
    value: function destroy() {
      for (var key in this.pluginList) {
        this._removePlugin(key);
      }

      this.$main.remove();
    }
  }, {
    key: "show",
    value: function show() {
      var _this4 = this;

      _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('.mt-panel', this.$main).style.display = 'block';
      _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('.mt-overlay', this.$main).style.display = 'block';
      setTimeout(function () {
        _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].addClass(_util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('#mt-main', _this4.$main), 'mt-toggle');
      }, 10);
    }
  }, {
    key: "hide",
    value: function hide() {
      var _this5 = this;

      _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].removeClass(_util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('#mt-main', this.$main), 'mt-toggle');
      setTimeout(function () {
        _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('.mt-panel', _this5.$main).style.display = 'none';
        _util_query_js__WEBPACK_IMPORTED_MODULE_1__["default"].one('.mt-overlay', _this5.$main).style.display = 'none';
      }, 300);
    }
  }]);

  return mDevelopTool;
}();



/***/ }),

/***/ "./src/core/core.less":
/*!****************************!*\
  !*** ./src/core/core.less ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../node_modules/css-loader!../../node_modules/less-loader/dist/cjs.js!./core.less */ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/core/core.less");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/element/element.art":
/*!*********************************!*\
  !*** ./src/element/element.art ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $escape = $imports.$escape, active = $data.active;
    $$out += '<div class="inner-content element-content ';
    $$out += $escape(active ? 'active' : '');
    $$out += '">\n\t<div class="mt-element">\n\n\t</div>\n</div>\n';
    return $$out;
};

/***/ }),

/***/ "./src/element/element.js":
/*!********************************!*\
  !*** ./src/element/element.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _basePlugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basePlugin */ "./src/basePlugin.js");
/* harmony import */ var _element_art__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./element.art */ "./src/element/element.art");
/* harmony import */ var _element_art__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_element_art__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _util_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/query */ "./src/util/query.js");
/* harmony import */ var _element_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./element.less */ "./src/element/element.less");
/* harmony import */ var _element_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_element_less__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node */ "./src/element/node.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var elementPlugin =
/*#__PURE__*/
function (_basePlugin) {
  _inherits(elementPlugin, _basePlugin);

  function elementPlugin() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, elementPlugin);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(elementPlugin)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.$element_content = _util_query__WEBPACK_IMPORTED_MODULE_2__["default"].toDom(_element_art__WEBPACK_IMPORTED_MODULE_1___default()());
    var MutationObserver = window.MutationObserver;

    var self = _assertThisInitialized(_this);

    _this.observer = new MutationObserver(function (mutations) {
      for (var i = 0; i < mutations.length; i++) {
        //do nothing if mutation in mDevelopTool
        if (self._isInMDevelopTool(mutations[i].target)) {
          continue;
        }

        switch (mutations[i].type) {
          case 'childList':
            if (mutations[i].removedNodes.length) {
              self._removeElement(mutations[i]);
            }

            if (mutations[i].addedNodes.length) {
              self._addElement(mutations[i]);
            }

            break;

          case 'attributes':
            self._changeAttributes(mutations[i]);

        }
      }
    });
    return _this;
  }

  _createClass(elementPlugin, [{
    key: "_init",
    value: function _init() {
      var node = this._getNode(document.documentElement); // 第一级默认展开


      node.toggle = true;

      this._renderNode(node, _util_query__WEBPACK_IMPORTED_MODULE_2__["default"].one('.mt-element', this.$element_content), 'add', true);

      this.observer.observe(document.documentElement, {
        childList: true,
        attributes: true,
        subtree: true,
        characterData: false
      });
    }
  }, {
    key: "_isInMDevelopTool",
    value: function _isInMDevelopTool(elem) {
      var target = elem;

      while (target != undefined) {
        if (target.id == 'mt-main') {
          return true;
        }

        target = target.parentNode;
      }

      return false;
    }
  }, {
    key: "_getNode",
    value: function _getNode(elem) {
      if (this._isEmptyElement(elem)) {
        return false;
      }

      var node = elem.temp_nodes || {};
      node.nodeType = elem.nodeType;
      node.tagName = elem.tagName;
      node.nodeName = elem.nodeName;
      node.textContent = '';

      if (elem.nodeType == elem.TEXT_NODE) {
        node.textContent = elem.textContent.trim();
      }

      node.id == elem.id;
      node.classList = elem.classList;
      node.attributes = [];

      if (elem.hasAttributes && elem.hasAttributes()) {
        for (var i = 0; i < elem.attributes.length; i++) {
          node.attributes.push({
            name: elem.attributes[i].name,
            value: elem.attributes[i].value
          });
        }
      } //children


      node.children = [];

      for (var _i = 0; _i < elem.childNodes.length; _i++) {
        var child = this._getNode(elem.childNodes[_i]);

        if (!child) {
          continue;
        }

        node.children.push(child);
      }

      elem.temp_nodes = node;
      return node;
    }
  }, {
    key: "_isEmptyElement",
    value: function _isEmptyElement(elem) {
      if (elem.nodeType == elem.TEXT_NODE) {
        // trim
        if (elem.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g, '') == '') {
          return true;
        }
      }

      return false;
    }
  }, {
    key: "_renderNode",
    value: function _renderNode(node, $ele, type, isInit) {
      var _this2 = this;

      var view = new _node__WEBPACK_IMPORTED_MODULE_4__["default"](node).$el;
      node.$el = view;

      if (type == 'replace') {
        $ele.parentNode.replaceChild(view, $ele);
      } else if (type == 'insertBefore') {
        $ele.parentNode.insertBefore(view, $ele);
      } else {
        $ele.appendChild(view);
      }

      if (node.toggle && isInit) {
        _util_query__WEBPACK_IMPORTED_MODULE_2__["default"].addClass(node.$el, 'mt-toggle');

        this._renderChildren(node, node.$el, true);
      }

      _util_query__WEBPACK_IMPORTED_MODULE_2__["default"].bind(_util_query__WEBPACK_IMPORTED_MODULE_2__["default"].one('.mt-el-node', view), 'click', function (event) {
        event.stopPropagation();
        var $parent = _util_query__WEBPACK_IMPORTED_MODULE_2__["default"].parents(event.target, 'mt-el-parent');
        node.toggle = !node.toggle;

        if (node.toggle) {
          _util_query__WEBPACK_IMPORTED_MODULE_2__["default"].addClass($parent, 'mt-toggle');
        } else {
          _util_query__WEBPACK_IMPORTED_MODULE_2__["default"].removeClass($parent, 'mt-toggle');
          return false;
        } //禁止递归


        _this2._renderChildren(node, $parent, false);
      });
    }
  }, {
    key: "_renderChildren",
    value: function _renderChildren(node, $parent, init) {
      var childIndex = -1;

      for (var i = 0; i < $parent.children.length; i++) {
        var $child = $parent.children[i];

        if (!_util_query__WEBPACK_IMPORTED_MODULE_2__["default"].hasClass($child, 'mt-el-parent')) {
          continue;
        }

        childIndex++;

        if ($child.children.length > 0) {
          continue;
        }

        if (!node.children[childIndex]) {
          continue;
        }

        this._renderNode(node.children[childIndex], $child, 'replace', init);
      }
    }
  }, {
    key: "_removeElement",
    value: function _removeElement(mutation) {
      var $target = mutation.target;
      var nodeInDom = $target.temp_nodes;

      if (!nodeInDom.$el) {
        return false;
      }

      for (var i = 0; i < mutation.removedNodes.length; i++) {
        var removed = mutation.removedNodes[i];
        var node = removed.temp_nodes;

        if (!node || !node.$el) {
          continue;
        }

        node.$el.parentElement.removeChild(node.$el);
      }

      this._getNode($target);
    } //add node

  }, {
    key: "_addElement",
    value: function _addElement(mutation) {
      var $target = mutation.target;
      var nodeInDom = $target.temp_nodes;

      if (!nodeInDom.$el) {
        return false;
      }

      this._getNode($target);

      for (var i = 0; i < mutation.addedNodes.length; i++) {
        var added = mutation.addedNodes[i];
        var node = added.temp_nodes;

        if (!node) {
          continue;
        } // create view


        if (mutation.nextSibling !== null) {
          //has nextSibling
          var sibling = mutation.nextSibling.temp_nodes;

          if (sibling.$el) {
            continue;
          }

          this._renderNode(node, sibling.$el, 'insertBefore');
        } else {
          if (!nodeInDom.$el) {
            continue;
          }

          if (nodeInDom.$el.lastChild) {
            this._renderNode(node, nodeInDom.$el.lastChild, 'insertBefore');
          } else {
            this._renderNode(node, nodeInDom.$el);
          }
        }
      }
    } //change attributes

  }, {
    key: "_changeAttributes",
    value: function _changeAttributes(mutation) {
      var $target = mutation.target;
      var nodeInDom = $target.temp_nodes;

      if (!nodeInDom) {
        return false;
      } //refresh


      nodeInDom.attributes = [];

      for (var i = 0; i < $target.attributes.length; i++) {
        nodeInDom.attributes.push({
          name: $target.attributes[i].name,
          value: $target.attributes[i].value
        });
      }

      if (nodeInDom.$el) {
        this._renderNode(nodeInDom, nodeInDom.$el, 'replace', true);
      }
    }
  }, {
    key: "render",
    value: function render(callback) {
      callback(this.$element_content);
    }
    /**
     *  ========== event =========
     */

  }, {
    key: "destroy",
    value: function destroy() {
      this.observer.disconnect();
      this.complete = false;
      this.$element_content.remove();
    }
  }, {
    key: "activeEvent",
    value: function activeEvent(id, data) {
      _get(_getPrototypeOf(elementPlugin.prototype), "activeEvent", this).call(this, id, data);

      if (this.complete) {
        return false;
      }

      this.complete = true;

      this._init();
    }
  }]);

  return elementPlugin;
}(_basePlugin__WEBPACK_IMPORTED_MODULE_0__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (elementPlugin);

/***/ }),

/***/ "./src/element/element.less":
/*!**********************************!*\
  !*** ./src/element/element.less ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../node_modules/css-loader!../../node_modules/less-loader/dist/cjs.js!./element.less */ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/element/element.less");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/element/node.art":
/*!******************************!*\
  !*** ./src/element/node.art ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $escape = $imports.$escape, tagName = $data.tagName, $each = $imports.$each, attributes = $data.attributes, val = $data.val, key = $data.key;
    $$out += '<span class="mt-el-node">&lt;';
    $$out += $escape(tagName.toLowerCase());
    $$out += ' <span class="node-attribute">\n';
    $each(attributes, function (val, key) {
        $$out += '\n\t';
        if (val.value !== '') {
            $$out += '\n\t\t';
            $$out += $escape(val.name);
            $$out += '="<span class="node-attribute-val">';
            $$out += $escape(val.value);
            $$out += '</span>"\n\t';
        } else {
            $$out += '\n\t\t';
            $$out += $escape(val.name);
            $$out += '\n\t';
        }
    });
    $$out += '</span>&gt;</span>';
    return $$out;
};

/***/ }),

/***/ "./src/element/node.js":
/*!*****************************!*\
  !*** ./src/element/node.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _util_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/query */ "./src/util/query.js");
/* harmony import */ var _node_art__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node.art */ "./src/element/node.art");
/* harmony import */ var _node_art__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_art__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }




var Node =
/*#__PURE__*/
function () {
  function Node(node) {
    _classCallCheck(this, Node);

    this.node = node;
    this._$el = this.render();
  }

  _createClass(Node, [{
    key: "render",
    value: function render() {
      var $el = document.createElement('div');

      if (this.node.children.length) {
        $el.classList.add('mt-el-parent');
      }

      switch (this.node.nodeType) {
        case document.ELEMENT_NODE:
          this._createElementNode(this.node, $el);

          break;

        case document.TEXT_NODE:
          this._createTextNode(this.node, $el);

          break;
      }

      return $el;
    }
  }, {
    key: "_createElementNode",
    value: function _createElementNode(node, $el) {
      var isLeaf = false;

      if (!node.children || !node.children.length) {
        isLeaf = true;
      }

      var $node = _util_query__WEBPACK_IMPORTED_MODULE_0__["default"].toDom(_node_art__WEBPACK_IMPORTED_MODULE_1___default()(this.node));
      $el.appendChild($node);

      if (isLeaf) {
        //TODO
        _util_query__WEBPACK_IMPORTED_MODULE_0__["default"].addClass($el, 'is-leaf');
      } else {
        for (var i = 0; i < node.children.length; i++) {
          var $child = document.createElement('div');
          $child.classList.add('mt-el-parent');
          $el.appendChild($child);
        }
      } //end


      var $end = document.createElement('span');
      $end.classList.add('mt-el-node');
      $end.innerHTML = '&lt;/' + node.tagName.toLowerCase() + '&gt;';
      $el.appendChild($end);
    }
  }, {
    key: "_createTextNode",
    value: function _createTextNode(node, $el) {
      if (!node.textContent) {
        return false;
      }

      _util_query__WEBPACK_IMPORTED_MODULE_0__["default"].addClass($el, 'leaf-node');
      $el.appendChild(document.createTextNode(node.textContent));
    }
  }, {
    key: "$el",
    get: function get() {
      return this._$el;
    }
  }]);

  return Node;
}();

/* harmony default export */ __webpack_exports__["default"] = (Node);

/***/ }),

/***/ "./src/log/item.art":
/*!**************************!*\
  !*** ./src/log/item.art ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $escape = $imports.$escape, type = $data.type, code = $data.code, logs = $data.logs, $each = $imports.$each, val = $data.val, key = $data.key;
    $$out += '<div class="mt-log-item log-type-';
    $$out += $escape(type);
    $$out += '">\n\t';
    if (code) {
        $$out += '\n\t\t<pre>';
        $$out += $escape(logs);
        $$out += '</pre>\n\t';
    } else {
        $$out += '\n        ';
        $each(logs, function (val, key) {
            $$out += '\n            <span>';
            $$out += $escape(val.toString());
            $$out += '</span>\n        ';
        });
        $$out += '\n    ';
    }
    $$out += '\n</div>';
    return $$out;
};

/***/ }),

/***/ "./src/log/log.art":
/*!*************************!*\
  !*** ./src/log/log.art ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $escape = $imports.$escape, active = $data.active;
    $$out += '<div class="inner-content log-content ';
    $$out += $escape(active ? 'active' : '');
    $$out += '">\n\t<div class="mt-log"></div>\n\t<form class="log-cmd">\n\t\t<div class="cmd-input-wrap">\n\t\t  <input id="cmd_input" class="cmd-input" placeholder="command..." />\n\t\t  <button type=\'submit\'>ok</button>\n\t\t</div>\n\t</form>\n</div>\n';
    return $$out;
};

/***/ }),

/***/ "./src/log/log.js":
/*!************************!*\
  !*** ./src/log/log.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _log_art__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./log.art */ "./src/log/log.art");
/* harmony import */ var _log_art__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_log_art__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _item_art__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./item.art */ "./src/log/item.art");
/* harmony import */ var _item_art__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_item_art__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _basePlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basePlugin */ "./src/basePlugin.js");
/* harmony import */ var _util_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/query */ "./src/util/query.js");
/* harmony import */ var _log_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./log.less */ "./src/log/log.less");
/* harmony import */ var _log_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_log_less__WEBPACK_IMPORTED_MODULE_4__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

/**
 * 打印log
 */






var logTabPlugin =
/*#__PURE__*/
function (_basePlugin) {
  _inherits(logTabPlugin, _basePlugin);

  function logTabPlugin() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, logTabPlugin);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(logTabPlugin)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.$log_content = null;
    _this.console = {};

    _this._init();

    _this._bindEvent();

    return _this;
  }

  _createClass(logTabPlugin, [{
    key: "_init",
    value: function _init() {
      var _this2 = this;

      //init dom
      this.$log_content = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].toDom(_log_art__WEBPACK_IMPORTED_MODULE_0___default()({
        active: this.active
      }));

      if (!this.active) {
        _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].addClass(this.$log_content, "hide");
      } //init console method


      var methodList = ['log', 'info', 'warn', 'error'];
      methodList.map(function (method) {
        _this2.console[method] = window.console[method];
      });
      methodList.map(function (method) {
        window.console[method] = function () {
          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }

          _this2._printLog({
            logs: args,
            type: method
          });
        };
      });
    }
  }, {
    key: "_bindEvent",
    value: function _bindEvent() {
      var _this3 = this;

      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].bind(_util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.log-cmd', this.$log_content), 'submit', function (e) {
        e.preventDefault();
        var cmd = e.target[0].value;

        if (cmd == '') {
          return false;
        }

        _this3._evalCommand(cmd);

        e.target[0].value = '';
      });
    }
  }, {
    key: "_printLog",
    value: function _printLog(param) {
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.mt-log', this.$log_content).appendChild(_util_query__WEBPACK_IMPORTED_MODULE_3__["default"].toDom(_item_art__WEBPACK_IMPORTED_MODULE_1___default()(param)));
    }
  }, {
    key: "_evalCommand",
    value: function _evalCommand(cmd) {
      this._printLog({
        logs: cmd,
        type: 'input',
        code: true
      });

      var result;

      try {
        result = eval.call(window, cmd);
      } catch (e) {
        window.console.error(e.message);
        result = '';
      }

      if (result == '') {
        return false;
      }

      this._printLog({
        logs: result + '',
        type: 'output'
      });
    }
    /**
     *  ========= public methods =======
     */

  }, {
    key: "clear",
    value: function clear() {
      // let elements = $.all('.mt-log-item')
      // let parentNode = $.one('.mt-log')
      // for(let i = elements.length - 1; i >= 0; i--) {
      //     parentNode.removeChild(elements[i]);
      // }
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].remove(_util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.mt-log'));
    }
  }, {
    key: "destroy",
    value: function destroy() {
      var _this4 = this;

      var methodList = ['log', 'info', 'warn', 'error'];
      methodList.map(function (method) {
        window.console[method] = _this4.console[method];
      });
      this.console = {};
      this.$log_content.remove();
    }
  }, {
    key: "render",
    value: function render(callback) {
      callback(this.$log_content);
    }
  }]);

  return logTabPlugin;
}(_basePlugin__WEBPACK_IMPORTED_MODULE_2__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (logTabPlugin);

/***/ }),

/***/ "./src/log/log.less":
/*!**************************!*\
  !*** ./src/log/log.less ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../node_modules/css-loader!../../node_modules/less-loader/dist/cjs.js!./log.less */ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/log/log.less");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/mDevelopTool.js":
/*!*****************************!*\
  !*** ./src/mDevelopTool.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/core.js */ "./src/core/core.js");

/* harmony default export */ __webpack_exports__["default"] = (_core_core_js__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./src/network/line.art":
/*!******************************!*\
  !*** ./src/network/line.art ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $escape = $imports.$escape, error = $data.error, name = $data.name, status = $data.status, method = $data.method, duration = $data.duration, url = $data.url, header = $data.header, $each = $imports.$each, item = $data.item, $index = $data.$index, params = $data.params, key = $data.key, value = $data.value, postParams = $data.postParams, requestType = $data.requestType, response = $data.response;
    $$out += '<div class="mt-network-info ';
    $$out += $escape(error ? 'error' : '');
    $$out += '">\n\t<div class="mt-row">\n        <div class="mt-col mt-col-2">';
    $$out += $escape(name);
    $$out += '</div>\n        <div class="mt-col">';
    $$out += $escape(status);
    $$out += '</div>\n        <div class="mt-col">';
    $$out += $escape(method);
    $$out += '</div>\n        <div class="mt-col">';
    $$out += $escape(duration);
    $$out += '</div>\n    </div>\n    <div class="mt-network-detail mt-hide">\n        <div class="detail-block">\n            <div class="detail-header">General</div>\n            <div class="">Request URL: ';
    $$out += $escape(url);
    $$out += '</div>\n            <div class="">Request Method: ';
    $$out += $escape(method);
    $$out += '</div>\n        </div>\n\n        ';
    if (header && header.length) {
        $$out += '\n            <div class="detail-block">\n                <div class="detail-header">Response Headers</div>\n                ';
        $each(header, function (item, $index) {
            $$out += '\n                    <div class="">';
            $$out += $escape(item.key);
            $$out += ': ';
            $$out += $escape(item.value);
            $$out += '</div>\n                ';
        });
        $$out += '\n            </div>\n        ';
    }
    $$out += '\n\n        ';
    if (params && $imports.Object.keys(params).length) {
        $$out += '\n\t        <div class="detail-block">\n\t            <div class="detail-header">Query String Parameters</div>\n\t            ';
        $each(params, function (key, value) {
            $$out += '\n\t                <div class="">';
            $$out += $escape(key);
            $$out += ': ';
            $$out += $escape(value);
            $$out += '</div>\n\t            ';
        });
        $$out += '\n\t        </div>\n        ';
    }
    $$out += '\n\n\t\t';
    if (postParams) {
        $$out += '\n\t        <div class="detail-block">\n\t            ';
        if (requestType == 'json') {
            $$out += '\n\t                <div class="detail-header">Request Payload</div>\n\t                <div class="pre-wrap">';
            $$out += $escape(postParams);
            $$out += '</pre>\n\t            ';
        } else if ($imports.Object.keys(postParams).length) {
            $$out += '\n\t                <div class="detail-header">Form Data</div>\n\t                ';
            $each(postParams, function (key, value) {
                $$out += '\n\t                    <div class="">';
                $$out += $escape(key);
                $$out += ': ';
                $$out += $escape(value);
                $$out += '</div>\n\t                ';
            });
            $$out += '\n\t            ';
        }
        $$out += '\n\t        </div>\n        ';
    }
    $$out += '\n\n\n        ';
    if (response) {
        $$out += '\n        <div class="detail-block">\n            <div class="detail-header">Request</div>\n            <div class="pre-wrap">';
        $$out += $escape(response);
        $$out += '</pre>\n        </div>\n        ';
    }
    $$out += '\n\n    </div>\n</div>';
    return $$out;
};

/***/ }),

/***/ "./src/network/network.art":
/*!*********************************!*\
  !*** ./src/network/network.art ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $escape = $imports.$escape, active = $data.active;
    $$out += '<div class="inner-content network-content ';
    $$out += $escape(active ? 'active' : '');
    $$out += '">\n\t<div class="mt-network mt-table">\n\t\t<div class="mt-row-title mt-row">\n\t\t\t<div class="mt-col mt-col-2">Name</div>\n\t\t\t<div class="mt-col">Status</div>\n\t\t\t<div class="mt-col">Method</div>\n\t\t\t<div class="mt-col">Time</div>\n\t\t</div>\n\t\t<div class="mt-network-content">\n\n\t\t</div>\n\t</div>\n</div>';
    return $$out;
};

/***/ }),

/***/ "./src/network/network.js":
/*!********************************!*\
  !*** ./src/network/network.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _basePlugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basePlugin */ "./src/basePlugin.js");
/* harmony import */ var _network_art__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./network.art */ "./src/network/network.art");
/* harmony import */ var _network_art__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_network_art__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _line_art__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./line.art */ "./src/network/line.art");
/* harmony import */ var _line_art__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_line_art__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _util_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/query */ "./src/util/query.js");
/* harmony import */ var _util_tool__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/tool */ "./src/util/tool.js");
/* harmony import */ var _network_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./network.less */ "./src/network/network.less");
/* harmony import */ var _network_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_network_less__WEBPACK_IMPORTED_MODULE_5__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var networkPlugin =
/*#__PURE__*/
function (_basePlugin) {
  _inherits(networkPlugin, _basePlugin);

  function networkPlugin() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, networkPlugin);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(networkPlugin)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.$network_content = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].toDom(_network_art__WEBPACK_IMPORTED_MODULE_1___default()());
    _this.ajax_list = {};

    _this._defineXMLHttp();

    return _this;
  }

  _createClass(networkPlugin, [{
    key: "_init",
    value: function _init() {
      for (var key in this.ajax_list) {
        this._renderItem(this.ajax_list[key]);
      }
    }
  }, {
    key: "_renderItem",
    value: function _renderItem(item) {
      if (!item || !this.complete) {
        return false;
      }

      if ([0, 1, 2, 3].indexOf(item.readyState) !== -1) {
        item.status = 'pending...';
      }

      if (item.readyState == 4) {
        item.error = item.status !== 200;
      } else {
        item.status = 'unknown';
      }

      var $line = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].toDom(_line_art__WEBPACK_IMPORTED_MODULE_2___default()(item));

      if (item.show) {
        item.view.parentElement.replaceChild($line, item.view);
      } else {
        _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.mt-network-content', this.$network_content).appendChild($line);
        item.show = true;
      }

      item.view = $line;
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].bind(_util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.mt-row', $line), 'click', function (event) {
        var $detail = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.mt-network-detail', $line);

        if (_util_query__WEBPACK_IMPORTED_MODULE_3__["default"].hasClass($detail, 'mt-hide')) {
          _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].removeClass($detail, 'mt-hide');
        } else {
          _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].addClass($detail, 'mt-hide');
        }
      });
    }
  }, {
    key: "_defineXMLHttp",
    value: function _defineXMLHttp() {
      this.open = window.XMLHttpRequest.prototype.open;
      this.send = window.XMLHttpRequest.prototype.send;
      var self = this;

      window.XMLHttpRequest.prototype.open = function () {
        var XMLHttp = this;
        var args = [].slice.call(arguments);
        XMLHttp._id = Object(_util_tool__WEBPACK_IMPORTED_MODULE_4__["generateId"])();
        XMLHttp._method = arguments[0];
        XMLHttp._url = arguments[1]; // self.ajax_list[XMLHttp._id] = {
        //     method: arguments[0],
        //     url: arguments[1]
        // }
        //onreadystatechange

        var _onreadystatechange = this.onreadystatechange || function () {};

        var onreadystatechange = function onreadystatechange() {
          var request = self.ajax_list[XMLHttp._id] || {};
          request['readyState'] = XMLHttp.readyState;
          request['status'] = XMLHttp.status;

          switch (XMLHttp.readyState) {
            case 0:
              if (!request.start_time) {
                request.start_time = new Date().getTime();
              }

              break;

            case 1:
              if (!request.start_time) {
                request.start_time = new Date().getTime();
              }

              break;

            case 2:
              var header = XMLHttp.getAllResponseHeaders();
              request.header = header.split('\n').filter(function (h) {
                return h.trim() != '';
              }).map(function (h) {
                var arr = h.split(': ');
                return {
                  key: arr[0],
                  value: arr[1]
                };
              });
              break;

            case 3:
              break;

            case 4:
              request.end_time = new Date().getTime();
              request.response = XMLHttp.response;
              request.duration = self._format(request.end_time - request.start_time);
              break;
          } //add request in ajax_list


          self.ajax_list[XMLHttp._id] = request; //render

          self._renderItem(request);

          return _onreadystatechange.apply(this, [].slice.call(arguments));
        };

        this.onreadystatechange = onreadystatechange;
        self.open.apply(this, args);
      };

      window.XMLHttpRequest.prototype.send = function () {
        var XMLHttp = this;
        var args = [].slice.call(arguments);
        var request = self.ajax_list[XMLHttp._id] || {};

        var query = XMLHttp._url.split('?');

        request['url'] = query.shift();
        request['method'] = XMLHttp._method.toUpperCase();
        request['name'] = XMLHttp._url.substr(XMLHttp._url.lastIndexOf('/') + 1);

        if (query.length > 0) {
          request.params = {};
          query = query.join('?');
          query = query.split('&');
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = query[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var q = _step.value;
              q = q.split('=');
              request.params[q[0]] = decodeURIComponent(q[1]);
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                _iterator["return"]();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }

        if (request.method == "POST") {
          if (typeof args[0] == 'string') {
            try {
              //json
              request.postParams = JSON.parse(args[0]);
              request.requestType = 'json';
            } catch (e) {
              request.postParams = {};
              var arr = args[0].split('&');
              var _iteratorNormalCompletion2 = true;
              var _didIteratorError2 = false;
              var _iteratorError2 = undefined;

              try {
                for (var _iterator2 = arr[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                  var _q = _step2.value;
                  _q = _q.split('=');
                  request.postParams[_q[0]] = _q[1];
                }
              } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                    _iterator2["return"]();
                  }
                } finally {
                  if (_didIteratorError2) {
                    throw _iteratorError2;
                  }
                }
              }
            }
          } else {
            request.postParams = args[0];
          }
        }

        self.send.apply(this, args);
      };
    }
  }, {
    key: "_format",
    value: function _format(time) {
      var temp_time = Math.floor(time / 1000);

      if (temp_time < 1) {
        return time + 'ms';
      }

      var min = Math.floor(temp_time / 60);

      if (min < 1) {
        return temp_time + 's';
      }

      return min + 'min';
    }
  }, {
    key: "render",
    value: function render(callback) {
      callback(this.$network_content);
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this.ajax_list = {};
      this.complete = false;
      this.$network_content.remove();
    }
    /**
     *  ========== event =========
     */

  }, {
    key: "activeEvent",
    value: function activeEvent(id, data) {
      _get(_getPrototypeOf(networkPlugin.prototype), "activeEvent", this).call(this, id, data);

      if (this.complete) {
        return false;
      }

      this.complete = true;

      this._init();
    }
  }]);

  return networkPlugin;
}(_basePlugin__WEBPACK_IMPORTED_MODULE_0__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (networkPlugin);

/***/ }),

/***/ "./src/network/network.less":
/*!**********************************!*\
  !*** ./src/network/network.less ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../node_modules/css-loader!../../node_modules/less-loader/dist/cjs.js!./network.less */ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/network/network.less");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/storage/item.art":
/*!******************************!*\
  !*** ./src/storage/item.art ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $each = $imports.$each, storages = $data.storages, val = $data.val, key = $data.key, $escape = $imports.$escape;
    $$out += '<table>\n\t';
    $each(storages, function (val, key) {
        $$out += '\n\t\t<tr>\n\t\t\t<td class="';
        $$out += $escape(val.key == null ? 'item-enabled-click' : '');
        $$out += '" data-key="';
        $$out += $escape(key);
        $$out += '">';
        $$out += $escape(val.key);
        $$out += '</td>\n\t\t\t<td class="item-enabled-click storage-value" data-key="';
        $$out += $escape(key);
        $$out += '">';
        $$out += $escape(val.value);
        $$out += '</td>\n\t\t\t<td>\n\t\t\t\t';
        if (val.key !== null) {
            $$out += '\n\t\t\t\t\t<div class="delete-storage clear" data-key="';
            $$out += $escape(key);
            $$out += '">+</div>\n\t\t\t\t';
        }
        $$out += '\n\t\t\t</td>\n\t\t</tr>\n\t';
    });
    $$out += '\n</table>';
    return $$out;
};

/***/ }),

/***/ "./src/storage/storage.art":
/*!*********************************!*\
  !*** ./src/storage/storage.art ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var $imports = __webpack_require__(/*! ../../node_modules/art-template/lib/runtime.js */ "./node_modules/art-template/lib/runtime.js");
module.exports = function ($data) {
    'use strict';
    $data = $data || {};
    var $$out = '', $escape = $imports.$escape, active = $data.active, type = $data.type;
    $$out += '<div class="inner-content storage-content ';
    $$out += $escape(active ? 'active' : '');
    $$out += '">\n\t<div class="mt-storage">\n\t\t<div class="sub-tabs">\n\t\t\t<div class="sub-tab ';
    $$out += $escape(type == 'local' ? 'active' : '');
    $$out += '" id="local">localStorage</div>\n\t\t\t<div class="sub-tab ';
    $$out += $escape(type == 'session' ? 'active' : '');
    $$out += '" id="session">sessionStorage</div>\n\t\t</div>\n\t\t<table class="mt-all-storages" cellpadding="0" cellspacing="0" width="100%">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<td width="45%">key</td>\n\t\t\t\t\t<td width="45%">value</td>\n\t\t\t\t\t<td width="10%"></td>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t</table>\n\t</div>\n</div>\n';
    return $$out;
};

/***/ }),

/***/ "./src/storage/storage.js":
/*!********************************!*\
  !*** ./src/storage/storage.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _basePlugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basePlugin */ "./src/basePlugin.js");
/* harmony import */ var _storage_art__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storage.art */ "./src/storage/storage.art");
/* harmony import */ var _storage_art__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_storage_art__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _item_art__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./item.art */ "./src/storage/item.art");
/* harmony import */ var _item_art__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_item_art__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _util_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/query */ "./src/util/query.js");
/* harmony import */ var _storage_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storage.less */ "./src/storage/storage.less");
/* harmony import */ var _storage_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_storage_less__WEBPACK_IMPORTED_MODULE_4__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var storagePlugin =
/*#__PURE__*/
function (_basePlugin) {
  _inherits(storagePlugin, _basePlugin);

  function storagePlugin() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, storagePlugin);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(storagePlugin)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.type = 'local';
    _this.storages = [];
    _this.$storage_content = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].toDom(_storage_art__WEBPACK_IMPORTED_MODULE_1___default()({
      active: _this.active,
      type: _this.type
    }));

    _this._bindEvent();

    return _this;
  }

  _createClass(storagePlugin, [{
    key: "_init",
    value: function _init() {
      var _this2 = this;

      switch (this.type) {
        case 'local':
          this.storages = this._getStorages(window.localStorage);
          break;

        case 'session':
          this.storages = this._getStorages(window.sessionStorage);
          break;
      }

      this._print(); //click td


      var $tds = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].all('.item-enabled-click', this.$storage_content);
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].bind($tds, 'click', function (event) {
        var current_storage = _this2.storages[event.target.dataset.key];

        if (current_storage.key == null && event.target.classList.contains('storage-value') || _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].all('input', event.target).length) {
          return false;
        }

        _this2._addStorage(event, current_storage.key == null ? 'add' : 'edit', current_storage);
      });
      var $del_tds = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].all('.delete-storage', this.$storage_content);
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].bind($del_tds, 'click', function (event) {
        var current_storage = _this2.storages[event.target.dataset.key];

        _this2._removeItem(current_storage.key);

        _this2.refresh();
      });
    }
  }, {
    key: "_print",
    value: function _print() {
      var table = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].toDom(_item_art__WEBPACK_IMPORTED_MODULE_2___default()({
        storages: this.storages
      }));
      var dom = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('tbody', table);
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.mt-all-storages', this.$storage_content).appendChild(dom);
    }
  }, {
    key: "_getStorages",
    value: function _getStorages(orgStorage) {
      var storages = [];

      for (var i = 0; i <= orgStorage.length; i++) {
        var key = orgStorage.key(i);
        var storage = {
          key: key,
          value: orgStorage.getItem(key)
        };
        storages.push(storage);
      }

      return storages;
    }
  }, {
    key: "_bindEvent",
    value: function _bindEvent() {
      var _this3 = this;

      //change sub tab
      var $tabs = _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].all('.sub-tab', this.$storage_content);
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].bind($tabs, 'click', function (event) {
        var id = event.target.id;

        if (_this3.type == id) {
          return false;
        }

        _this3.type = id;
        _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].removeClass($tabs, 'active');
        _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].addClass(event.target, 'active');

        _this3.refresh();
      });
    }
  }, {
    key: "_addStorage",
    value: function _addStorage(event, type, item) {
      var _this4 = this;

      var $td = event.target;
      var $input = document.createElement('input');

      if (type == 'edit') {
        _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].remove($td);
        $input.value = item.value;
      }

      $td.appendChild($input);
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].bind($input, 'click', function (event) {
        return event.stopPropagation();
      });
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].bind($input, 'change', function (e) {
        if (type == 'add') {
          _this4._addItem(e.target.value, '');

          _this4.refresh();
        } else {
          $input.remove();

          _this4._addItem(item.key, e.target.value);

          item.value = e.target.value;
          $td.innerText = e.target.value;
        }
      });
    }
  }, {
    key: "_addItem",
    value: function _addItem(key, val) {
      switch (this.type) {
        case 'local':
          window.localStorage.setItem(key, val);
          break;

        case 'session':
          window.sessionStorage.setItem(key, val);
          break;
      }
    }
  }, {
    key: "_removeItem",
    value: function _removeItem(key) {
      switch (this.type) {
        case 'local':
          window.localStorage.removeItem(key);
          break;

        case 'session':
          window.sessionStorage.removeItem(key);
          break;
      }
    }
    /**
     *  ========= public methods =======
     */

  }, {
    key: "refresh",
    value: function refresh() {
      _util_query__WEBPACK_IMPORTED_MODULE_3__["default"].one('.mt-all-storages tbody', this.$storage_content).remove();

      this._init();
    }
  }, {
    key: "render",
    value: function render(callback) {
      callback(this.$storage_content);
    }
  }, {
    key: "clear",
    value: function clear() {
      switch (this.type) {
        case 'local':
          window.localStorage.clear();
          break;

        case 'session':
          window.sessionStorage.clear();
          break;
      }

      this.refresh();
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this.type = 'local';
      this.storages = [];
      this.complete = false;
      this.$storage_content.remove();
    }
    /**
     *  ========== event =========
     */

  }, {
    key: "activeEvent",
    value: function activeEvent(id, data) {
      _get(_getPrototypeOf(storagePlugin.prototype), "activeEvent", this).call(this, id, data);

      if (this.complete) {
        return false;
      }

      this.complete = true;

      this._init();
    }
  }]);

  return storagePlugin;
}(_basePlugin__WEBPACK_IMPORTED_MODULE_0__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (storagePlugin);

/***/ }),

/***/ "./src/storage/storage.less":
/*!**********************************!*\
  !*** ./src/storage/storage.less ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(/*! !../../../node_modules/css-loader!../../node_modules/less-loader/dist/cjs.js!./storage.less */ "../node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/storage/storage.less");
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "../node_modules/style-loader/lib/addStyles.js")(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ "./src/util/query.js":
/*!***************************!*\
  !*** ./src/util/query.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function isArray(value) {
  return Object.prototype.toString.call(value) == '[object Array]';
}

var $ = {};
/**
 * get single element
 * @public
 */

$.one = function (selector, contextElement) {
  try {
    return (contextElement || document).querySelector(selector) || undefined;
  } catch (e) {
    return undefined;
  }
};
/**
 * get multiple elements
 * @public
 */


$.all = function (selector, contextElement) {
  try {
    var nodeList = (contextElement || document).querySelectorAll(selector);
    return Array.from(nodeList);
  } catch (e) {
    return [];
  }
};
/**
 * see whether an element contains a className
 * @public
 */


$.hasClass = function ($el, className) {
  if (!$el || !$el.classList) {
    return false;
  }

  return $el.classList.contains(className);
};

$.addClass = function ($el, className) {
  if (!$el) {
    return;
  }

  if (!isArray($el)) {
    $el = [$el];
  }

  for (var i = 0; i < $el.length; i++) {
    var name = $el[i].className || '',
        arr = name.split(' ');

    if (arr.indexOf(className) > -1) {
      continue;
    }

    arr.push(className);
    $el[i].className = arr.join(' ');
  }
};

$.removeClass = function ($el, className) {
  if (!$el) {
    return;
  }

  if (!isArray($el)) {
    $el = [$el];
  }

  for (var i = 0; i < $el.length; i++) {
    var arr = $el[i].className.split(' ');

    for (var j = 0; j < arr.length; j++) {
      if (arr[j] == className) {
        arr[j] = '';
      }
    }

    $el[i].className = arr.join(' ').trim();
  }
};

$.toDom = function (str) {
  var div = document.createElement("div");
  if (typeof str == "string") div.innerHTML = str;
  return div.childNodes[0];
};

$.remove = function ($el) {
  for (var i = $el.childNodes.length - 1; i >= 0; i--) {
    $el.removeChild($el.childNodes[i]);
  }
};
/**
 * bind an event to element(s)
 * @public
 * @param  array    $el      element object or array
 * @param  string    eventType  name of the event
 * @param  function  fn
 * @param  boolean    useCapture
 */


$.bind = function ($el, eventType, fn, useCapture) {
  if (!$el) {
    return;
  }

  if (!isArray($el)) {
    $el = [$el];
  }

  $el.forEach(function (el) {
    el.addEventListener(eventType, fn, !!useCapture);
  });
};

$.parents = function ($el, class_name) {
  var $node = $el;

  while (!$.hasClass($node, class_name)) {
    $node = $node.parentElement;
  }

  return $node;
};
/**
 * export
 */


/* harmony default export */ __webpack_exports__["default"] = ($);

/***/ }),

/***/ "./src/util/tool.js":
/*!**************************!*\
  !*** ./src/util/tool.js ***!
  \**************************/
/*! exports provided: deepCopy, generateId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deepCopy", function() { return deepCopy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateId", function() { return generateId; });
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function deepCopy(p, c, filters) {
  var c = c || {};

  for (var i in p) {
    if (Array.isArray(filters) && filters.indexOf(i) != -1) {
      continue;
    }

    if (_typeof(p[i]) === 'object' && p[i] != null) {
      c[i] = p[i].constructor === Array ? [] : {};
      deepCopy(p[i], c[i]);
    } else {
      c[i] = p[i];
    }
  }

  return c;
}
function generateId() {
  var id = 'xxxx-xxxx-xxxx-xxxx'.replace(/(x)/g, function (x) {
    return (Math.random() * 15 | 0).toString(16).toUpperCase();
  });
  return id;
}

/***/ })

/******/ })["default"];
});